<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Overview - Just Write It</title>
  

  <link rel="shortcut icon" href="../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">

  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script>
  <script src="../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Just Write It</a>
        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
      <ul class="current">
    
        
            <li class="toctree-l1 ">
                <a class="" href="..">Home</a>
                
            </li>
        

    
        
            <li class="toctree-l1 ">
                <a class="" href="../step-by-step/">How it works</a>
                
            </li>
        

    
        
            <span>Server</span>
            
                <li class="toctree-l2 ">
                    <a class="" href="../server/">Overview</a>
                    
                </li>
            
                <li class="toctree-l2 ">
                    <a class="" href="../server/routes/">Routes</a>
                    
                </li>
            
                <li class="toctree-l2 ">
                    <a class="" href="../server/models/">Models</a>
                    
                </li>
            
                <li class="toctree-l2 ">
                    <a class="" href="../server/texFiles/">_texFiles</a>
                    
                </li>
            
        

    
        
            <span>Parser</span>
            
                <li class="toctree-l2 current">
                    <a class="current" href="./">Overview</a>
                    
                        <ul>
                        
                            <li class="toctree-l3"><a href="#parser">Parser</a></li>
                            
                                <li><a class="toctree-l4" href="#filestructure">Filestructure</a></li>
                            
                                <li><a class="toctree-l4" href="#configurations">Configurations</a></li>
                            
                        
                        </ul>
                    
                </li>
            
                <li class="toctree-l2 ">
                    <a class="" href="code/">Code</a>
                    
                </li>
            
                <li class="toctree-l2 ">
                    <a class="" href="templates/">Templates</a>
                    
                </li>
            
        

    
        
            <span>Client</span>
            
                <li class="toctree-l2 ">
                    <a class="" href="../client/">Overview</a>
                    
                </li>
            
                <li class="toctree-l2 ">
                    <a class="" href="../client/controller/">Controller</a>
                    
                </li>
            
                <li class="toctree-l2 ">
                    <a class="" href="../client/templates/">HTML Templates</a>
                    
                </li>
            
        

    
</ul>

      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Just Write It</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        <li>Parser &raquo;</li>
      
    
    <li>Overview</li>
      <li class="wy-breadcrumbs-aside">
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              <h1 id="parser">Parser</h1>
<p>The parser once was it's own repository but we realized, that at this point it's not configurable enough to use it anywhere else. So it got moved back into the main repository. Maybe in the future it will be on it's own again.</p>
<h3 id="filestructure">Filestructure</h3>
<pre><code>parser/
  htmlToLatex.js            # builds a dom from given html and starts domToLatex

  lib/                      # contains the config files and the real logic
    defaultConfig.js        # fallback configuration file
    articleConfig.js        # allowed tags and styles for articles
    letterConfig.js         # allowed tags and styles for letters

    domToLatex.js           # parses given dom &amp; config to valid latex

  templates/                # different ways to parse html tags to latex
    default/                # fallback for not specified classes
    defaultArticle          # templates to parse html tags for articles
    defaultLetter           # templates to parse html tags for letters
</code></pre>
<h2 id="configurations">Configurations</h2>
<p>The config files tell the parser which template to use for which tag, which style is allowed for which tag, and what are the allowed style options.</p>
<p>With the following explanations it should become clear how the config files work.</p>
<h3 id="tags">tags</h3>
<p>The tags are mapped to allowed/used tags for that template. On the left side is the tag in question and on the right side the tag that is used.</p>
<pre><code class="js">// tags that are not listed are not allowed the tags are omitted and the content is parsed
tags: {
  h1 : 'h1',    // h1 is allowed so it maps to itself
  h2 : 'h2',    // h2 is allowed so it maps to itself
  h3 : 'h2',    // h3 is forbidden so it maps to h2
  h4 : 'h2',    // h4 is forbidden so it maps to h2
  h5 : 'h2',    // h5 is forbidden so it maps to h2
  p  : 'p',     // p is allowed so it maps to itself
  div: 'p',     // div is forbidden so it maps to p
  br : 'br',    // br is allowed so it maps to itself
  b  : 'b',     // b is allowed so it maps to itself
  u  : 'u',     // u is allowed so it maps to itself
  i  : 'i',     // i is allowed so it maps to itself
  ol : 'ol',    // ol is allowed so it maps to itself
  ul : 'ul',    // ul is allowed so it maps to itself
  li : 'li'     // li is allowed so it maps to itself
}
</code></pre>

<h3 id="allowedstyles">allowedStyles</h3>
<p>On the left there is the allowed style definition and on the right side are the tags that style is allowed for. Styles that are not in the list are not allowed and therefor not parsed. The same goes for allowed styles in tags that this style is not allowed for.</p>
<pre><code class="js">// styles not listed are not allowed and not parsed
// tags not listed are not allowed for this style and this style is not parsed
allowedStyles: {
    &quot;text-align&quot;: ['h1','h2', 'p'], // for h1, h2 and p tags it's allowed to set a text align
    &quot;color&quot;: ['p']                  // only for p it's allowed to set a text color
},
</code></pre>

<h3 id="styles">styles</h3>
<p>Here it gets more specific. For every allowed style there has to be an styles entry with the allowed options and a corresponding template. Options not specified are not parsed.</p>
<pre><code class="js">// styles always go along with allowedStyles
styles: {
  &quot;text-align&quot;: {
    center: 'align-center', // text-align: center is allowed and uses align-center.dot
    left  : 'align-left',   // text-align: left is allowed and uses align-left.dot
    right : 'align-right'   // text-align: right is allowed and uses align-right.dot
  },
  &quot;color&quot;: {                // not speciefied colors default to black
    red: 'color-red'        // only color: red is allowed and uses color-red.dot
  }
}
</code></pre>
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="code/" class="btn btn-neutral float-right" title="Code"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../server/texFiles/" class="btn btn-neutral" title="_texFiles"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
    <!-- Copyright etc -->
    </p>
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
        
      <span><a href="../server/texFiles/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      <span style="margin-left: 15px"><a href="code/" style="color: #fcfcfc">Next &raquo;</a></span>
    </span>
</div>

<!--
MkDocs version  : 0.12.1
Docs Build Date : 2015-05-01 17:50:43.382160
-->
</body>
</html>